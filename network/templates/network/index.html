{% extends "network/layout.html" %}



{% if message %}
<div>{{ message }}</div>
{% endif %}

{% block body %}
    <h1>All Posts</h1>
    {% if user.is_authenticated %}
    <div class="NewPost"> 
        
        <form action="{% url 'addPost' %}" method="post">
            {% csrf_token %}
            <h5>What's on your mind {{request.user.username}} ?</h5>
            {{ form }}
            <!-- <input class="textarea" type="text", name="New Post", placeholder="post"> -->
            <input class="button" type="submit" value="Post">
        </form>

    </div>
    {% endif %}
    
    {% for posts in post %}
    <div class="Post">
        {% if user.is_authenticated %}
        <a href="{% url 'profile' posts.user.username %}"><h4>{{posts.user.username}}</h4></a>
        {% else %}
            <h4>{{posts.user.username}}</h4>
        {% endif %}

        {% if posts.user.username == request.user.username %}
            <!-- User will click on edit button and then text area should appear filling in that text and user can type -->
            <button class="edit" >Edit</button>
                <div id = "edit-view">
                    <h3>Edit Post</h3>
                        <form id="edit-form">
                            <!-- <div class="form-group">
                                From: <input disabled class="form-control" value="{{ request.user.email }}">
                            </div>
                            <div class="form-group">
                                To: <input id="compose-recipients" class="form-control">
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="edit-subject" placeholder="Subject">
                            </div> -->
                            <textarea class="form-control" id="compose-body" placeholder="Body">posts.post</textarea>
                            <input type="submit" class="btn btn-primary"/>
                        </form>
                </div>
        {% endif %}
        <p class="post"> {{posts.post}} <br></p>
        <p style="color: gray;" >{{posts.date}}</p>
        <button>{{posts.likes}} like</button><br>
        <a href="{% url 'index' %}">comment</a>
    </div>
    {% endfor %}
<div class = "page">
    {% if page.has_previous %}
        <a  href="{% url 'index' %}?page={{page.previous_page_number}}">| Previous |</a>
    {% endif %}

    {% if page.has_next %}
        <a  href="{% url 'index' %}?page={{page.next_page_number}}">| Next |</a>
    {% endif %}
    
</div>


{% endblock %}